<!doctype html>
<html lang="en"><head><!-- hexo injector head_begin start --><link rel="stylesheet" href="/blog/css/custom.css" /><!-- hexo injector head_begin end --><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="theme-color" content="#123456"><title>[tutorial] How to use psutil to monitor CPU and memory usage in python - Hsiang-Jen Li&#039;s Blog</title><link rel="manifest" href="/blog/manifest.json"><meta name="application-name" content="Hsiang-Jen Li&#039;s Blog"><meta name="msapplication-TileImage" content="https://hsiangjenli.github.io/static/image/ico.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Hsiang-Jen Li&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ğŸ“Œ Introduction This article introduces psutil, an open-source Python package that provides system information about CPU, memory, disks, and networks. It covers the installation of psutil and demonstr"><meta property="og:type" content="blog"><meta property="og:title" content="Hsiang-Jen Li&#039;s Blog"><meta property="og:url" content="https://hsiangjenli.github.io/blog/tutorial_psutil/"><meta property="og:site_name" content="Hsiang-Jen Li&#039;s Blog"><meta property="og:description" content="ğŸ“Œ Introduction This article introduces psutil, an open-source Python package that provides system information about CPU, memory, disks, and networks. It covers the installation of psutil and demonstr"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://hsiangjenli.github.io/blog/img/og_image.png"><meta property="article:published_time" content="2024-01-25T16:00:00.000Z"><meta property="article:modified_time" content="2025-02-27T16:00:00.000Z"><meta property="article:author"><meta property="article:tag" content="python"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://hsiangjenli.github.io/blog/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://hsiangjenli.github.io/blog/tutorial_psutil/"},"headline":"[tutorial] How to use psutil to monitor CPU and memory usage in python","image":["https://hsiangjenli.github.io/blog/img/og_image.png"],"datePublished":"2024-01-25T16:00:00.000Z","dateModified":"2025-02-27T16:00:00.000Z","author":{"@type":"Person","name":["Hsiang-Jen Li"," & ChatGPT-4o Mini"]},"publisher":{"@type":"Organization","name":"Hsiang-Jen Li's Blog","logo":{"@type":"ImageObject","url":"https://hsiangjenli.github.io/static/image/ico.svg"}},"description":"ğŸ“Œ Introduction This article introduces psutil, an open-source Python package that provides system information about CPU, memory, disks, and networks. It covers the installation of psutil and demonstr"}</script><link rel="canonical" href="https://hsiangjenli.github.io/blog/tutorial_psutil/"><link rel="icon" href="https://hsiangjenli.github.io/static/image/ico.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/blog/css/default.css"><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><script src="https://www.googletagmanager.com/gtag/js?id=G-RMY40RWC3B" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-RMY40RWC3B');</script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/blog/"><img src="https://hsiangjenli.github.io/static/image/ico.svg" alt="Hsiang-Jen Li&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/blog/">Home</a><a class="navbar-item" href="http://hsiangjenli.github.io/">About me</a><a class="navbar-item" href="/blog/archives">Archives</a><a class="navbar-item" href="/blog/note_strategic_thinking_models/">Stragetic Thinking</a><a class="navbar-item" href="https://hsiangjenli.github.io/cheat-sheet/">Cheat sheets</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Language" href="/blog/zh-TW/"><i class="fas fa-globe"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="Catalogue" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-01-25T16:00:00.000Z" title="1/25/2024, 4:00:00 PM">2024-01-26</time></span><span class="level-item"> Hsiang-Jen Li &amp; ChatGPT-4o Mini </span></div></div><h1 class="title is-3 is-size-4-mobile">[tutorial] How to use psutil to monitor CPU and memory usage in python</h1><div class="content"><h1>ğŸ“Œ Introduction</h1>
<p>This article introduces psutil, an open-source Python package that provides system information about CPU, memory, disks, and networks. It covers the installation of psutil and demonstrates useful functions for monitoring CPU and memory usage, as well as how to integrate it into Python code using decorators.</p>
<span id="more"></span>
<h1>ğŸš€ Quick Start</h1>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install psutil</span><br></pre></td></tr></table></figure>
<h2 id="Useful-functions-in-psutil">Useful functions in psutil</h2>
<h3 id="CPU">CPU</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">psutil.cpu_count() <span class="comment"># get the number of CPU</span></span><br><span class="line">psutil.cpu_percent() <span class="comment"># get the usage of all CPU</span></span><br><span class="line">psutil.cpu_percent(percpu=<span class="literal">True</span>) <span class="comment"># get the usage of per CPU</span></span><br><span class="line">psutil.cpu_percent(interval=<span class="number">1</span>) <span class="comment"># get the usage of all CPU in 1 second, using interval will get more robust result</span></span><br></pre></td></tr></table></figure>
<h3 id="Memory">Memory</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">info = psutil.virtual_memory()</span><br><span class="line"></span><br><span class="line"><span class="comment"># total memory</span></span><br><span class="line">info.total / <span class="number">1024</span> / <span class="number">1024</span> / <span class="number">1024</span> <span class="comment"># bytes -&gt; GB</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># the usage of memory</span></span><br><span class="line">info.percent</span><br></pre></td></tr></table></figure>
<h4 id="MacOS">MacOS</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># svmem(total=25769803776, available=7726628864, percent=70.0, used=9045114880, free=791134208, active=6949453824, inactive=6915768320, wired=2095661056)</span></span><br></pre></td></tr></table></figure>
<h4 id="Ubuntu">Ubuntu</h4>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># will get more information like buffers, cached etc..</span></span><br><span class="line"><span class="comment"># svmem(total=33541988352, available=25899790336, percent=22.8, used=7087771648, free=2703233024, active=15287881728, inactive=14264188928, buffers=965103616, cached=22785880064, shared=8265728, slab=904495104)</span></span><br></pre></td></tr></table></figure>
<h2 id="How-to-integrate-psutil-into-our-code">How to integrate psutil into our code?</h2>
<p>We can use psutil to monitor each function cpu and memory usage by using decorator.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> psutil</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">monitor</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        process = psutil.Process()</span><br><span class="line">        cur_func_pid = process.pid</span><br><span class="line">        process = psutil.Process(cur_func_pid)</span><br><span class="line"></span><br><span class="line">        func(*args, **kwargs)</span><br><span class="line"></span><br><span class="line">        cpu_usage = process.cpu_percent(interval=<span class="number">0.01</span>)</span><br><span class="line">        memory_usage = process.memory_info().rss / <span class="number">1024</span> / <span class="number">1024</span> / <span class="number">1024</span> <span class="comment"># bytes -&gt; GB</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;CPU usage: <span class="subst">&#123;cpu_usage&#125;</span>%&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Memory usage: <span class="subst">&#123;memory_usage&#125;</span>GB&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br></pre></td></tr></table></figure>
<h3 id="Example">Example</h3>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@monitor</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">example_code</span>():</span><br><span class="line">    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">100</span>):</span><br><span class="line">        np.random.rand(<span class="number">100</span>, <span class="number">100</span>, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">example_code()</span><br></pre></td></tr></table></figure>
<h1>ğŸ” Recap</h1>
<ul>
<li>psutil is an open-source Python package for system monitoring.</li>
<li>It provides useful functions to get CPU and memory usage information.</li>
<li>You can use decorators to monitor CPU and memory usage of Python functions easily.</li>
</ul>
<h1>ğŸ”— References</h1>
<ul>
<li><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/380842937">Pythonå¸¸ç”¨åº“ä¹‹psutilä½¿ç”¨æŒ‡å—</a></li>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43391414/article/details/124431187">ç®€å•ä»‹ç»psutilåº“ï¼ˆvirtual_memory()ã€cpu_percent()</a></li>
<li><a target="_blank" rel="noopener" href="https://www.askpython.com/python-modules/psutil-module">Python System Monitoring and Profiling with the psutil Module</a></li>
<li><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/psutil-module-in-python/">Psutil module in Python</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.oracle.com/en/database/oracle/machine-learning/oml4py/2/mlpug/administrative-tasks-oracle-machine-learning-python1.html#GUID-0A8BF865-13EA-4A20-BAA9-7066066C45CB">Administrative Tasks for Oracle Machine Learning for Python</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>[tutorial] How to use psutil to monitor CPU and memory usage in python</p><p><a href="https://hsiangjenli.github.io/blog/tutorial_psutil/">https://hsiangjenli.github.io/blog/tutorial_psutil/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>Hsiang-Jen Li &amp; ChatGPT-4o Mini</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2024-01-26</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2025-02-28</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/blog/tags/python/">python</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/blog/tutorial-how-to-use-psutil-to-monitor-cpu-and-memory-usage-in-python.zh-TW/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">[æ•™å­¸] å¦‚ä½•ä½¿ç”¨ psutil åœ¨ Python ä¸­ç›£æ§ CPU èˆ‡è¨˜æ†¶é«”ä½¿ç”¨ç‡</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/blog/tutorial-build-your-own-python-package.zh-TW/"><span class="level-item">[tutorial] å»ºç«‹ä½ è‡ªå·±çš„ Python å¥—ä»¶</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">Catalogue</h3><ul class="menu-list"><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">1</span><span class="level-item">ğŸ“Œ Introduction</span></span></a></li><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">2</span><span class="level-item">ğŸš€ Quick Start</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Useful-functions-in-psutil"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">Useful functions in psutil</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#CPU"><span class="level-left"><span class="level-item">2.1.1</span><span class="level-item">CPU</span></span></a></li><li><a class="level is-mobile" href="#Memory"><span class="level-left"><span class="level-item">2.1.2</span><span class="level-item">Memory</span></span></a></li></ul></li><li><a class="level is-mobile" href="#How-to-integrate-psutil-into-our-code"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">How to integrate psutil into our code?</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Example"><span class="level-left"><span class="level-item">2.2.1</span><span class="level-item">Example</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">3</span><span class="level-item">ğŸ” Recap</span></span></a></li><li><a class="level is-mobile" href="#"><span class="level-left"><span class="level-item">4</span><span class="level-item">ğŸ”— References</span></span></a></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/blog/js/toc.js" defer></script></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/blog/archives/2025/07/"><span class="level-start"><span class="level-item">July 2025</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2025/06/"><span class="level-start"><span class="level-item">June 2025</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2025/05/"><span class="level-start"><span class="level-item">May 2025</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2025/04/"><span class="level-start"><span class="level-item">April 2025</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2025/03/"><span class="level-start"><span class="level-item">March 2025</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2025/02/"><span class="level-start"><span class="level-item">February 2025</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2025/01/"><span class="level-start"><span class="level-item">January 2025</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2024/12/"><span class="level-start"><span class="level-item">December 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2024/09/"><span class="level-start"><span class="level-item">September 2024</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2024/08/"><span class="level-start"><span class="level-item">August 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2024/01/"><span class="level-start"><span class="level-item">January 2024</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2023/10/"><span class="level-start"><span class="level-item">October 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2023/07/"><span class="level-start"><span class="level-item">July 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2023/03/"><span class="level-start"><span class="level-item">March 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2023/02/"><span class="level-start"><span class="level-item">February 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/blog/archives/2022/09/"><span class="level-start"><span class="level-item">September 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-07-24T16:00:00.000Z">2025-07-25</time></p><p class="title"><a href="/blog/note-docker-model-runner-installation.zh-TW/">[æ³¨æ„] Docker Model Runner å®‰è£</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-07-24T16:00:00.000Z">2025-07-25</time></p><p class="title"><a href="/blog/note_docker_model_runner/">[note] Docker Model Runner Installation</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-07-21T16:00:00.000Z">2025-07-22</time></p><p class="title"><a href="/blog/note-ngrok-static-domain-for-free.zh-TW/">[note] ngrok - å…è²»éœæ…‹ç¶²åŸŸ</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-07-21T16:00:00.000Z">2025-07-22</time></p><p class="title"><a href="/blog/note_ngrok_free_static_domain/">[note] ngrok - static domain for free</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2025-06-19T16:00:00.000Z">2025-06-20</time></p><p class="title"><a href="/blog/tutorial-aws-sam-lambda.zh-TW/">[tutorial] ä½¿ç”¨ AWS SAM å»ºç«‹èˆ‡åŸ·è¡Œ Lambda å‡½æ•¸</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/blog/"><img src="https://hsiangjenli.github.io/static/image/ico.svg" alt="Hsiang-Jen Li&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2025 Hsiang-Jen Li, & ChatGPT-4o Mini</span>Â Â Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>Â &amp;Â <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/blog/js/column.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/blog/js/back_to_top.js" defer></script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/mhchem.min.js" defer></script><script>window.addEventListener("load", function() {
            document.querySelectorAll('[role="article"] > .content').forEach(function(element) {
                renderMathInElement(element);
            });
        });</script><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.9/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><script src="/blog/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">Ã—</a></div><div class="searchbox-body"></div></div></div><script src="/blog/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/blog/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script><!-- hexo injector body_end start -->
<script>
(function(){
  function basePath() {
    var p = window.location.pathname; // e.g. /blog/zh-TW/...
    var segs = p.split('/').filter(Boolean);
    // If first segment is 'blog', treat '/blog/' as base; otherwise '/'
    return (segs[0] === 'blog') ? '/blog/' : '/';
  }
  function toggleLangHref(){
    var a = document.querySelector('.navbar .navbar-end a.navbar-item[title="Language"]');
    if(!a) return;
    // If page-level translation switch exists, use its target
    var postSwitch = document.querySelector('.post-lang-switch');
    if (postSwitch && postSwitch.getAttribute('href')) {
      a.setAttribute('href', postSwitch.getAttribute('href'));
    } else {
      var p = window.location.pathname;
      var base = basePath();
      var segs = p.split('/').filter(Boolean);
      var idx = (base === '/blog/') ? 1 : 0;
      var inZh = (segs[idx] === 'zh-TW');
      var href = inZh ? base : base + 'zh-TW/';
      a.setAttribute('href', href);
    }
    // open in same tab
    a.removeAttribute('target');
    a.removeAttribute('rel');
  }
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', toggleLangHref);
  } else {
    toggleLangHref();
  }
})();
</script>
<!-- hexo injector body_end end --></body></html>