{"type":"getPostById","data":{"title":"[note] 修復 apache/airflow:2.10.2 Docker 映像中的 Git 安裝問題","date":"2024-09-25T16:00:00.000Z","description":"<blockquote>\n<p>註記：此頁為由 AI（gpt-5-mini-2025-08-07）自動翻譯自英文原文，可能含有少量不準確之處。</p>\n<h1>📌 介紹</h1>\n</blockquote>\n<p>本文討論在使用 apache/airflow:2.10.2 Docker 映像時，嘗試從 GitHub 安裝套件會遇到權限錯誤的問題。提出的解決方案是暫時切換到 root 使用者來安裝 ‘git’，然後再切換回 airflow 使用者進行後續安裝。</p>","categories":[],"tags":[{"name":"docker","_id":"cmfj10y44000in42b0int7j6h"}],"content":"<blockquote>\n<p>註記：此頁為由 AI（gpt-5-mini-2025-08-07）自動翻譯自英文原文，可能含有少量不準確之處。</p>\n<h1>📌 介紹</h1>\n</blockquote>\n<p>本文討論在使用 apache/airflow:2.10.2 Docker 映像時，嘗試從 GitHub 安裝套件會遇到權限錯誤的問題。提出的解決方案是暫時切換到 root 使用者來安裝 ‘git’，然後再切換回 airflow 使用者進行後續安裝。</p>\n<span id=\"more\"></span>\n<h1>🚀 快速開始</h1>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span> apache/airflow:slim-<span class=\"number\">2.10</span>.<span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">USER</span> root</span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> apt-get update &amp;&amp; apt-get install -y git</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">USER</span> airflow</span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> requirements.txt requirements.txt</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> pip install --no-cache-dir -r requirements.txt</span></span><br></pre></td></tr></table></figure>\n<h1>🔁 重點回顧</h1>\n<ul>\n<li>在使用 apache/airflow:2.10.2 映像從 GitHub 安裝套件時，可能會發生權限錯誤。</li>\n<li>為了解決此問題，在切回 airflow 使用者之前，請以 root 身份安裝 git。</li>\n<li>所提供的 Dockerfile 示範了執行這些步驟的方法。</li>\n</ul>\n","_path":"note-fixing-git-installation-issues-in-apache-airflow-2-10-2-docker-image.zh-TW/","_link":"https://hsiangjenli.github.io/blog/note-fixing-git-installation-issues-in-apache-airflow-2-10-2-docker-image.zh-TW/","_id":"cmfj10y400009n42b191canqj"}}