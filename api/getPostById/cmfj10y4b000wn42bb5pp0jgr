{"type":"getPostById","data":{"title":"[note] Windows 11 + Ubuntu dual-boot installation record","date":"2025-01-16T16:00:00.000Z","description":"<blockquote>\n<p>Note: This page is an AI-generated (gpt-5-mini-2025-08-07) translation from Traditional Chinese and may contain minor inaccuracies.</p>\n<!-- # ü§Ø Start with some reflection\n</blockquote>\n<blockquote>\n<p>Finally understood why most people who need Ubuntu either use a virtual machine or install WSL, and why Windows remains necessary.</p>\n</blockquote>\n<p>This time I proceeded with the mindset of ‚Äúeven if the computer system breaks, I can always spend a few thousand to buy a Windows 11 license and ask someone at Guanghua to reinstall‚Äù and documented the entire installation process. :)<br>\n‚Äì&gt;</p>\n<h1>üéí Preparations</h1>\n<h2 id=\"üíª-Computer-info\">üíª Computer info</h2>\n<ul>\n<li><strong>Model</strong>: VivoBook 14 X1405VA-0041K</li>\n<li><strong>OS</strong>: Windows 11</li>\n<li><strong>CPU</strong>: i5-13500H</li>\n<li><strong>SSD</strong>: NVMe SAMSUNG MZVL4512HBLU-00BTW</li>\n<li><strong>BIOS access key</strong>: <kbd>F2</kbd></li>\n<li><strong>Boot device selection key</strong>: <kbd>F12</kbd></li>\n</ul>","categories":[],"tags":[{"name":"ubuntu","_id":"cmfj10y500037n42b5d8s6xsn"},{"name":"windows","_id":"cmfj10y51003an42bcfpwepga"},{"name":"intel rst","_id":"cmfj10y51003cn42ba8727q5y"}],"content":"<blockquote>\n<p>Note: This page is an AI-generated (gpt-5-mini-2025-08-07) translation from Traditional Chinese and may contain minor inaccuracies.</p>\n<!-- # ü§Ø Start with some reflection\n</blockquote>\n<blockquote>\n<p>Finally understood why most people who need Ubuntu either use a virtual machine or install WSL, and why Windows remains necessary.</p>\n</blockquote>\n<p>This time I proceeded with the mindset of ‚Äúeven if the computer system breaks, I can always spend a few thousand to buy a Windows 11 license and ask someone at Guanghua to reinstall‚Äù and documented the entire installation process. :)<br>\n‚Äì&gt;</p>\n<h1>üéí Preparations</h1>\n<h2 id=\"üíª-Computer-info\">üíª Computer info</h2>\n<ul>\n<li><strong>Model</strong>: VivoBook 14 X1405VA-0041K</li>\n<li><strong>OS</strong>: Windows 11</li>\n<li><strong>CPU</strong>: i5-13500H</li>\n<li><strong>SSD</strong>: NVMe SAMSUNG MZVL4512HBLU-00BTW</li>\n<li><strong>BIOS access key</strong>: <kbd>F2</kbd></li>\n<li><strong>Boot device selection key</strong>: <kbd>F12</kbd></li>\n</ul>\n<span id=\"more\"></span>\n<h2 id=\"üéØ-Goal\">üéØ Goal</h2>\n<p>The current SSD already has Windows 11 installed. The goal is to partition the 1 TB SSD and install Ubuntu 20.04 LTS.</p>\n<ul>\n<li><img src=\"https://img.shields.io/badge/Windows_11-0078d4?style=for-the-badge&amp;logo=windows-11&amp;logoColor=white\" alt=\"\"> - 350 GB</li>\n<li><img src=\"https://img.shields.io/badge/Ubuntu%2020.04%20LTS-E95420?style=for-the-badge&amp;logo=ubuntu&amp;logoColor=white\" alt=\"Ubuntu\"> - 650 GB</li>\n</ul>\n<!-- - BIOS latest version\n- Secure Boot disabled\n- Fast Boot disabled\n- CSM disabled\n- Use UEFI\n- In BIOS SATA Configuration confirm AHCI format -->\n<h1>üíª Procedure</h1>\n<h2 id=\"üö®-Notes-Precautions\">üö® Notes / Precautions</h2>\n<blockquote>\n<ul>\n<li>According to online tutorials, most changes are made in the BIOS menu</li>\n<li>However, some manufacturers disable these options (to prevent users from damaging the computer)</li>\n<li>That makes changes more troublesome and may end up requiring a Windows reset, so back up your PC</li>\n</ul>\n</blockquote>\n<ol>\n<li>Turn off BitLocker</li>\n<li>Ensure BIOS is updated to the latest version\n<ul>\n<li>The latest BIOS usually includes bug fixes and improved hardware compatibility, which helps avoid unnecessary installation issues</li>\n</ul>\n</li>\n<li>Set the BIOS Boot Mode to UEFI\n<ul>\n<li>UEFI is the modern standard boot mode with better disk partition support, faster booting, and security features. Both Ubuntu and Windows recommend UEFI rather than legacy BIOS (CSM)</li>\n</ul>\n</li>\n<li>Disable Secure Boot\n<ul>\n<li>Secure Boot prevents unauthorized operating systems from booting, but some Ubuntu releases or custom drivers may fail verification and cause installation to fail</li>\n<li>In the BIOS find the Secure Boot setting and set it to Disabled</li>\n</ul>\n</li>\n<li>Disable Fast Boot (BIOS &amp; Windows Control Panel)\n<ul>\n<li>Fast Boot skips some hardware initialization and may prevent the USB installer from being detected, affecting the Ubuntu installation</li>\n<li>In the BIOS find Fast Boot and set it to Disabled</li>\n<li>In Windows Control Panel under Hardware and Sound ‚Üí Power Options, turn off Fast Startup</li>\n</ul>\n</li>\n<li>Ensure SATA Configuration is set to AHCI mode (this is the most likely place for problems; some BIOS may not allow changing this)\n<ul>\n<li>It must not be RAID</li>\n</ul>\n</li>\n<li>Disable CSM (Compatibility Support Module)\n<ul>\n<li>CSM provides compatibility for legacy BIOS; disabling it makes the system focus on UEFI booting and reduces potential compatibility issues</li>\n<li>In the BIOS find CSM and set it to Disabled</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"Step-1-Disk-partitioning\">Step 1 Disk partitioning</h2>\n<ul>\n<li>First, partition the disk in Windows to separate Windows and Ubuntu</li>\n<li>Search on the PC for <strong><code>Create and format hard disk partitions</code></strong></li>\n</ul>\n<p><img src=\"https://hackmd.io/_uploads/Bytew2Ovke.png\" alt=\"image\"></p>\n<h2 id=\"Step-2-Turn-off-fast-startup\">Step 2 Turn off fast startup</h2>\n<ol>\n<li>Windows - Fast Startup</li>\n<li>BIOS - Fast Boot</li>\n</ol>\n<h3 id=\"Windows\">Windows</h3>\n<ul>\n<li>In Windows Control Panel, find the power management options and turn off Fast Startup</li>\n</ul>\n<p><img src=\"https://hackmd.io/_uploads/SkOjV2_vkl.png\" alt=\"image\"></p>\n<p><img src=\"https://hackmd.io/_uploads/H19EHbqDyl.png\" alt=\"image\"></p>\n<p><img src=\"https://hackmd.io/_uploads/S1bSHZ9w1x.png\" alt=\"image\"></p>\n<p><img src=\"https://hackmd.io/_uploads/ry4Er2_Dkx.png\" alt=\"image\"></p>\n<h2 id=\"Step-3-Remove-drivers-related-to-Intel-RST\">Step 3 Remove drivers related to Intel RST <sup class=\"footnote-ref\"><a href=\"#fn1\" id=\"fnref1\">[1]</a></sup></h2>\n<blockquote>\n<ul>\n<li>This step can cause the computer to fail to boot, requiring a full system reset (you need a strong heart üíîüíîüíî‚Ä¶)</li>\n<li>However, only after resetting can you turn off RST (change the disk from RAID to AHCI); otherwise Ubuntu won‚Äôt detect this SSD during installation</li>\n</ul>\n</blockquote>\n<h3 id=\"Press-kbd-Win-kbd-kbd-X-kbd-and-open-Device-Manager\">Press <kbd>Win</kbd> + <kbd>X</kbd> and open Device Manager</h3>\n<ul>\n<li>Go to Storage Controllers, where you‚Äôll see the Intel RST driver<br>\n<img src=\"https://hackmd.io/_uploads/HyamMTuvyl.png\" alt=\"image\"></li>\n<li>This is the culprit that prevents the SSD from being detected during Ubuntu installation!!!</li>\n<li>Please follow the steps in <a href=\"https://help.ubuntu.com/rst/\">Ubuntu Documentation - RST &amp; Ubuntu installation</a> to uninstall the Intel RST driver step by step</li>\n</ul>\n<h3 id=\"Press-kbd-Win-kbd-kbd-R-kbd-search-for-regedit\">Press <kbd>Win</kbd> + <kbd>R</kbd>, search for <code>regedit</code></h3>\n<ol>\n<li><code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\iaStorV\\</code>\n<ul>\n<li>Find <strong>Start</strong> and change its value to 0</li>\n<li>Find <strong>StartOverride</strong> and change its value to 0</li>\n</ul>\n</li>\n<li><code>HKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Services\\storahci\\</code>\n<ul>\n<li>Find <strong>Start</strong> and change its value to 0</li>\n<li>Find <strong>StartOverride</strong> and change its value to 0</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"Uninstall-the-Intel-RST-driver\">Uninstall the Intel RST driver</h3>\n<ul>\n<li>Completely uninstall the Intel RST driver, then reboot</li>\n<li>During the reboot you may see a blue screen showing <code>INACCESSIBLE_BOOT_DEVICE</code>; the fix is to reset the entire computer</li>\n</ul>\n<h3 id=\"After-resetting\">After resetting</h3>\n<ul>\n<li>\n<p>Press <kbd>Win</kbd> + <kbd>X</kbd> again, open Device Manager and check Storage Controllers to confirm whether Intel RST is still present</p>\n<p><img src=\"https://hackmd.io/_uploads/r1qe9f5DJx.png\" alt=\"image\"></p>\n</li>\n</ul>\n<h2 id=\"Step-4-Install-Ubuntu\">Step 4 Install Ubuntu</h2>\n<h3 id=\"Install-Ubuntu-using-a-USB-drive\">Install Ubuntu using a USB drive</h3>\n<ul>\n<li>Press <kbd>F12</kbd> to choose the USB drive as the boot device</li>\n<li>Since the partitions were pre-created, choose Installation Type ‚Üí Something else<br>\n<img src=\"https://hackmd.io/_uploads/rJstz95P1e.png\" alt=\"image\"></li>\n<li>Proceed through the installer; there should be no major issues afterwards</li>\n</ul>\n<h3 id=\"Driver-issues\">Driver issues</h3>\n<ul>\n<li>In past desktop and older laptop installs I didn‚Äôt encounter Wi-Fi driver issues</li>\n<li>But this VivoBook had a problem; the fastest solution was to buy a Linux-compatible USB Wi-Fi adapter</li>\n<li>TP-Link TL-WN725N22<br>\n<img src=\"https://hackmd.io/_uploads/SJfbN55PJe.png\" alt=\"image\"></li>\n</ul>\n<h2 id=\"Glossary\">Glossary</h2>\n<ul>\n<li>CSM - Compatibility Support Module</li>\n<li>Intel RST - Intel Rapid Storage Technology</li>\n</ul>\n<hr class=\"footnotes-sep\">\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"fn1\" class=\"footnote-item\"><p>Ubuntu Documentation - RST &amp; Ubuntu installation<br>\n<a href=\"https://help.ubuntu.com/rst/\">https://help.ubuntu.com/rst/</a> <a href=\"#fnref1\" class=\"footnote-backref\">‚Ü©Ô∏é</a></p>\n</li>\n</ol>\n</section>\n","_path":"note-window-11-ubuntu.en/","_link":"https://hsiangjenli.github.io/blog/note-window-11-ubuntu.en/","_id":"cmfj10y4b000wn42bb5pp0jgr"}}