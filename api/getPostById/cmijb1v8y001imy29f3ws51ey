{"type":"getPostById","data":{"title":"[note] 如何用 GitHub Issue 搞定 AI Agent 的 BDD + SDD + TDD 開發流程","date":"2025-11-11T16:00:00.000Z","description":"<h1>📌 簡介</h1>\n<p>在當前的 AI 開發流程中，不同的方法論如雨後春筍般地快速增長（例如 <code>coleam00/context-engineering-intro</code>、<code>bmad-code-org/BMAD-METHOD</code>、<code>automazeio/ccpm</code> 和 <code>classmethod/tsumiki</code>），這些方法論目的是用來協助 AI Agent 在程式開發前進行規劃。然而，這些工具通常會將規劃產生的「大量文件」直接存放在專案的 Repo 中。看起來很詳細，但實際上在需求不斷變動的情況下，這些文件反而成為了負擔。當需求發生變更時，很難確認 AI Agent 是否已正確讀取並更新相關文件，也難以進行審核與追蹤，特別是在多人協作或需要維護舊專案時。</p>","categories":[],"tags":[{"name":"ai","_id":"cmijb1v96002jmy290dth4bx4"},{"name":"bdd","_id":"cmijb1v98002omy29gbim2nxd"},{"name":"sdd","_id":"cmijb1v99002umy291j50fefo"},{"name":"tdd","_id":"cmijb1v9a0030my2976rcduc3"}],"content":"\n    <style>\n    .post-lang-switch{\n      position: absolute;\n      top: .75rem;\n      right: .75rem;\n      z-index: 2;\n      color: var(--link, #3273dc);\n    }\n    .post-lang-switch:hover{opacity:.8}\n    </style>\n  \n    <a class=\"post-lang-switch\" href=\"/blog/note-github-issue-ai-agent-bdd-sdd-tdd.en/\" title=\"View English version\" aria-label=\"View English version\">\n      <i class=\"fas fa-language\"></i>\n    </a>\n  <h1>📌 簡介</h1>\n<p>在當前的 AI 開發流程中，不同的方法論如雨後春筍般地快速增長（例如 <code>coleam00/context-engineering-intro</code>、<code>bmad-code-org/BMAD-METHOD</code>、<code>automazeio/ccpm</code> 和 <code>classmethod/tsumiki</code>），這些方法論目的是用來協助 AI Agent 在程式開發前進行規劃。然而，這些工具通常會將規劃產生的「大量文件」直接存放在專案的 Repo 中。看起來很詳細，但實際上在需求不斷變動的情況下，這些文件反而成為了負擔。當需求發生變更時，很難確認 AI Agent 是否已正確讀取並更新相關文件，也難以進行審核與追蹤，特別是在多人協作或需要維護舊專案時。</p>\n<span id=\"more\"></span>\n<h1>🚀 初步想法</h1>\n<p>目前還在測試階段，相關程式碼可以至 <a href=\"https://github.com/hsiangjenli/prompts/tree/v1.0.0\"><code>hsiangjenli/prompts</code></a> 查看。這篇文章僅用來紀錄預想中的開發流程邏輯。其主要內容著重在「管理」Issue，測試 Issue 的格式是否有按照 <code>ISSUE_TEMPLATE</code> 內的模板撰寫、是否有正確關聯到相關 Issue 等等…</p>\n<h2 id=\"欲解決的-3-大痛點\">欲解決的 3 大痛點</h2>\n<blockquote>\n<p>需求蒐集階段、文件管理不易、文件關係混亂</p>\n</blockquote>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>As Is</th>\n<th>To Be</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><strong>需求蒐集階段</strong></td>\n<td>多數開發工具專注於程式開發階段（如 SDD、TDD），卻忽略了最前端的「需求」部分。需求本身就是最難的部分，因為開發者往往不明確自己到底要什麼，而且需求在開發過程中會持續改變</td>\n<td>在開始任何程式開發前，我們會使用一個問答式的方式，讓使用者描述需求。AI Agent 會逐步釐清使用者的需求，並將其以 GWT（Given-When-Then） 格式化為 User Story，確保每個需求都描述得清晰且易於理解。這樣不僅有助於明確需求，也為未來的測試提供了直接可用的測試情境</td>\n</tr>\n<tr>\n<td><strong>文件管理不易</strong></td>\n<td>許多工具會將 AI Agent 產生的規劃文件直接存在 Repository 中。當專案需求不斷變動時，這些文件會變得非常混亂。每次 AI Agent 產生一大堆文件，開發者很難確認它是否已讀到最新的需求，或者是否不小心改寫了已有的文件。此外，這些文件也很難進行審核與追蹤，特別是在多人協作</td>\n<td>將所有需求相關的文件（如 PRD、使用者故事等）都存放在 GitHub Issue 中，讓每個需求都有明確的記錄，並可以與後續的程式碼開發關聯。當開發完成後，也可以透過 PR 來連結回原始的需求 Issue 號碼</td>\n</tr>\n<tr>\n<td><strong>文件關係混亂</strong></td>\n<td>需求文件有許多種類，例如使用者故事（BDD）、系統需求描述（SDD）、單元測試（TDD）等。將這些文件都存在 GitHub Issue 中時，很容易變得一團亂。改個其中一個文件，卻忘記修與其關聯的文件檔</td>\n<td>GitHub 新增的「sub-issue」功能，可以讓我們在一個主要的需求 Issue 下，建立相關的 sub-issue，例如系統需求描述或單元測試等。這樣不僅可以讓所有需求之間有清晰的層級關係，還可以方便地追蹤每個部分的進度。當需求發生變更時，AI Agent 可以透過 GitHub 的 MCP 工具，一起讀取並修改相關的問題與文件，並統一記錄在 GitHub 上，確保所有改動都可以被追蹤和審核</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"開發流程設計\">開發流程設計</h2>\n<h3 id=\"流程圖\">流程圖</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flowchart TD</span><br><span class=\"line\">    A[&quot;需求收集&quot;] --&gt; B[&quot;BDD Issue 建立/更新&quot;]</span><br><span class=\"line\">    B --&gt; C&#123;&quot;BDD 核准?&quot;&#125;</span><br><span class=\"line\">    C --&gt;|否| B</span><br><span class=\"line\">    C --&gt;|是| D[&quot;SDD 提問與建立&lt;br/&gt;Sub-Issue 形式&quot;]</span><br><span class=\"line\">    D --&gt; E[&quot;TDD 提問與建立&lt;br/&gt;Sub-Issue 形式&quot;]</span><br><span class=\"line\">    E --&gt; TDD[&quot;TDD 迴圈&quot;]</span><br><span class=\"line\">    </span><br><span class=\"line\">    subgraph TDD[&quot;TDD 迴圈&quot;]</span><br><span class=\"line\">        F[&quot;Red&lt;br/&gt;撰寫失敗測試&quot;]</span><br><span class=\"line\">        G[&quot;Green&lt;br/&gt;實作程式碼&quot;]</span><br><span class=\"line\">        H&#123;&quot;Refactor?&quot;&#125;</span><br><span class=\"line\">        I[&quot;Refactor&lt;br/&gt;優化程式碼&quot;]</span><br><span class=\"line\">        F --&gt; G --&gt; H</span><br><span class=\"line\">        H --&gt;|是| I</span><br><span class=\"line\">        I --&gt; F</span><br><span class=\"line\">        H --&gt;|否| J[&quot;完成&quot;]</span><br><span class=\"line\">    end</span><br><span class=\"line\">    </span><br><span class=\"line\">    TDD --&gt; K[&quot;提交 PR&quot;]</span><br></pre></td></tr></table></figure>\n<h3 id=\"Prompt-列表\">Prompt 列表</h3>\n<table>\n<thead>\n<tr>\n<th>Prompt 檔名</th>\n<th>觸發條件</th>\n<th>主要任務</th>\n<th>產出物</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><code>requirements.prompt.md</code></td>\n<td>新需求或需求分析階段</td>\n<td>與開發人員討論需求，收集背景資訊</td>\n<td>產出結構化需求</td>\n</tr>\n<tr>\n<td><code>bdd-change.prompt.md</code></td>\n<td>需求在 BDD/SDD/TDD 中途發現變更</td>\n<td>評估變更影響範圍，逐層更新 BDD/SDD/TDD Issue</td>\n<td>更新需求，逐層更新確認</td>\n</tr>\n<tr>\n<td><code>sdd.prompt.md</code></td>\n<td>BDD Issue 已核准，需進行設計提問</td>\n<td>透過提問釐清系統設計、界面契約、資料模型</td>\n<td>建立 SDD Issue（自動成為 BDD 的 Sub-Issue）</td>\n</tr>\n<tr>\n<td><code>tdd-requirements.prompt.md</code></td>\n<td>BDD 已核准 + SDD 已建立，開始測試規劃</td>\n<td>透過提問定義測試場景、資料準備、優先順序</td>\n<td>建立 TDD Issue（自動成為 SDD 的 Sub-Issue） + 測試矩陣</td>\n</tr>\n<tr>\n<td><code>tdd-red.prompt.md</code></td>\n<td>TDD Issue 已建立，開始 Red 階段</td>\n<td>撰寫一定會失敗的測試，記錄失敗詳情</td>\n<td>測試矩陣中對應 Test 狀態改為 🔴 + 獨立 Comment 記錄失敗</td>\n</tr>\n<tr>\n<td><code>tdd-green.prompt.md</code></td>\n<td>Red 階段測試已建立，開始 Green 階段</td>\n<td>實作最小可行程式碼讓測試通過</td>\n<td>在同一 Comment 中追加 Green 階段結果，測試狀態改為 🟢</td>\n</tr>\n<tr>\n<td><code>tdd-refactor.prompt.md</code></td>\n<td>Green 階段測試已通過，開始 Refactor 階段（可選）</td>\n<td>優化程式碼品質、提升可維護性</td>\n<td>在同一 Comment 中追加 Refactor 結果，測試狀態改為 ♻️</td>\n</tr>\n</tbody>\n</table>\n<h1>🔁 重點回顧</h1>\n<ul>\n<li>在測試過大量的 AI 開發工具後發現的了 3 大問題\n<ul>\n<li><strong>需求蒐集階段</strong>：直接跳到 SDD、TDD 階段</li>\n<li><strong>文件管理不易</strong>：AI Agent 產出一堆文件檔，卻全部塞在 Repo 底下</li>\n<li><strong>文件關係混亂</strong>：搞不清楚每個 Task 之間的關係，也不知道 AI Agent 是否有修改到所有關聯 Issue</li>\n</ul>\n</li>\n<li>設計一組流程，從需求（BDD）–&gt;規格（SDD）–&gt;測試（TDD）整個開發步驟的藍圖</li>\n<li>統整每個 prompt 的主要任務、觸發條件以及預期產出</li>\n</ul>\n<h1>🔗 參考資料</h1>\n<ul>\n<li><a href=\"https://github.com/coleam00/context-engineering-intro\"><code>coleam00/context-engineering-intro</code></a></li>\n<li><a href=\"https://github.com/bmad-code-org/BMAD-METHOD\"><code>bmad-code-org/BMAD-METHOD</code></a></li>\n<li><a href=\"https://github.com/automazeio/ccpm\"><code>automazeio/ccpm</code></a></li>\n<li><a href=\"https://github.com/classmethod/tsumiki\"><code>classmethod/tsumiki</code></a></li>\n</ul>\n","_path":"/zh-TW/note-github-issue-ai-agent-bdd-sdd-tdd/","_link":"https://hsiangjenli.github.io/blog/zh-TW/note-github-issue-ai-agent-bdd-sdd-tdd/","_id":"cmijb1v8y001imy29f3ws51ey"}}