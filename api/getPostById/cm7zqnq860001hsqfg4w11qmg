{"type":"getPostById","data":{"title":"[note] Fixing Git Installation Issues in apache/airflow:2.10.2 Docker Image","date":"2024-09-26T00:00:00.000Z","description":"<h1 id=\"ğŸ“Œ-Introduction\"><a href=\"#ğŸ“Œ-Introduction\" class=\"headerlink\" title=\"ğŸ“Œ Introduction\"></a>ğŸ“Œ Introduction</h1><p>The article discusses the issue of permission errors when attempting to install packages from GitHub while using the apache&#x2F;airflow:2.10.2 Docker image. It presents a solution that involves temporarily switching to the root user to install â€˜gitâ€™ and then reverting to the airflow user for further installations.</p>","categories":[],"tags":[{"name":"docker","_id":"cm7zqnq8a0003hsqf1ctwd7n4"}],"content":"<h1 id=\"ğŸ“Œ-Introduction\"><a href=\"#ğŸ“Œ-Introduction\" class=\"headerlink\" title=\"ğŸ“Œ Introduction\"></a>ğŸ“Œ Introduction</h1><p>The article discusses the issue of permission errors when attempting to install packages from GitHub while using the apache&#x2F;airflow:2.10.2 Docker image. It presents a solution that involves temporarily switching to the root user to install â€˜gitâ€™ and then reverting to the airflow user for further installations.</p>\n<span id=\"more\"></span>\n\n<h1 id=\"ğŸš€-Quick-Start\"><a href=\"#ğŸš€-Quick-Start\" class=\"headerlink\" title=\"ğŸš€ Quick Start\"></a>ğŸš€ Quick Start</h1><figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span> apache/airflow:slim-<span class=\"number\">2.10</span>.<span class=\"number\">2</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">USER</span> root</span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> apt-get update &amp;&amp; apt-get install -y git</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">USER</span> airflow</span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> requirements.txt requirements.txt</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> pip install --no-cache-dir -r requirements.txt</span></span><br></pre></td></tr></table></figure>\n\n<h1 id=\"ğŸ”-Recap\"><a href=\"#ğŸ”-Recap\" class=\"headerlink\" title=\"ğŸ” Recap\"></a>ğŸ” Recap</h1><ul>\n<li>Permission errors can occur with the apache&#x2F;airflow:2.10.2 image when installing packages from GitHub.</li>\n<li>To resolve this issue, install git as the root user before switching back to the airflow user.</li>\n<li>The Dockerfile provided demonstrates the steps to perform these actions.</li>\n</ul>\n","_path":"note_airflow_docker_permission_error/","_link":"https://hsiangjenli.github.io/blog/note_airflow_docker_permission_error/","_id":"cm7zqnq860001hsqfg4w11qmg"}}