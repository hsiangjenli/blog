{"type":"getPostById","data":{"title":"[note] Mac：不要安裝 Docker Desktop，改用 Colima — 常見問答","date":"2025-04-27T16:00:00.000Z","description":"<blockquote>\n<p>註記：此頁為由 AI（gpt-5-mini-2025-08-07）自動翻譯自英文原文，可能含有少量不準確之處。</p>\n<blockquote>\n<p>注意：本頁面為由 AI 生成的翻譯（gpt-5-mini-2025-08-07），自繁體中文翻譯而來，可能包含些許不準確之處。</p>\n</blockquote>\n<h1>📌 介紹</h1>\n</blockquote>\n<p>在 Mac 上，使用 Docker 並不必安裝官方的 Docker Desktop；可以使用像 Colima 這種更輕量的替代方案。不過，如果你先前安裝過 Docker Desktop，之後又透過 Homebrew 安裝 Docker CLI，卻沒有完全清除舊的設定，就可能會遇到一些錯誤。</p>","categories":[],"tags":[{"name":"docker","_id":"cmfj10y44000in42b0int7j6h"}],"content":"<blockquote>\n<p>註記：此頁為由 AI（gpt-5-mini-2025-08-07）自動翻譯自英文原文，可能含有少量不準確之處。</p>\n<blockquote>\n<p>注意：本頁面為由 AI 生成的翻譯（gpt-5-mini-2025-08-07），自繁體中文翻譯而來，可能包含些許不準確之處。</p>\n</blockquote>\n<h1>📌 介紹</h1>\n</blockquote>\n<p>在 Mac 上，使用 Docker 並不必安裝官方的 Docker Desktop；可以使用像 Colima 這種更輕量的替代方案。不過，如果你先前安裝過 Docker Desktop，之後又透過 Homebrew 安裝 Docker CLI，卻沒有完全清除舊的設定，就可能會遇到一些錯誤。</p>\n<span id=\"more\"></span>\n<h1>🚀 操作</h1>\n<h2 id=\"錯誤訊息\">錯誤訊息</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Error 1</span></span><br><span class=\"line\">docker: Cannot connect to the Docker daemon at unix:///Users/XXXXXXXX/.docker/run/docker.sock. Is the docker daemon running?</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">Error 2</span></span><br><span class=\"line\">docker: error getting credentials - err: exec: &quot;docker-credential-desktop&quot;: executable file not found in $PATH, out: ``</span><br></pre></td></tr></table></figure>\n<h2 id=\"原因\">原因</h2>\n<p>因為最初使用 Docker Desktop 進行安裝，之後改用 Colima 並移除 Docker Desktop，導致部分原有的設定仍被使用，進而引發這些錯誤。</p>\n<h2 id=\"解決方法\">解決方法</h2>\n<h3 id=\"Error-1\"><code>Error 1</code></h3>\n<p>以 <code>brew install docker</code> 安裝的是 Docker CLI，而不是 Docker Engine。Docker Engine 必須在 Linux 系統上執行，而 macOS 並非 Linux，因此需要額外的 VM。Docker Desktop 會在背景啟動一個 VM，可能讓你沒有注意到；移除 Docker Desktop 後，就需要自行提供一個 VM 讓 Docker 運行。</p>\n<ol>\n<li>安裝 <code>colima</code> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install colima</span><br></pre></td></tr></table></figure>\n</li>\n<li>啟動 <code>colima</code> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">colima start</span><br></pre></td></tr></table></figure>\n</li>\n<li>照常使用 Docker 指令</li>\n</ol>\n<h3 id=\"Error-2\"><code>Error 2</code></h3>\n<p>如果最初安裝過 Docker Desktop，有些設定可能被重複使用，導致出現此錯誤。</p>\n<ol>\n<li>編輯 <code>config.json</code> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano ~/.docker/config.json</span><br></pre></td></tr></table></figure>\n</li>\n<li>移除此段設定 <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;credsStore&quot;: &quot;desktop&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h1>🔁 重點回顧</h1>\n<p>本篇摘要兩個常見錯誤：</p>\n<ol>\n<li>Docker 無法連接到 daemon</li>\n<li>缺少 docker-credential-desktop，導致認證錯誤</li>\n</ol>\n<h1>🔗 參考資料</h1>\n<ul>\n<li><a href=\"https://ithelp.ithome.com.tw/articles/10355740\">第 07 天：使用 KinD 為 Kubernetes 開發 - MacOS</a></li>\n<li><a href=\"https://blog.wu-boy.com/2023/06/how-to-create-kubernetes-cluster-in-local/\">使用 Colima 快速打造 Kubernetes 開發環境</a></li>\n</ul>\n","_path":"note_chinese_mac_docker_colima/","_link":"https://hsiangjenli.github.io/blog/note_chinese_mac_docker_colima/","_id":"cmfj10y4d0010n42b4xldddds"}}