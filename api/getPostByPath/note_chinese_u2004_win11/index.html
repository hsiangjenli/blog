{"type":"getPostByPath","data":{"title":"[note] Windows 11 + Ubuntu 雙重開機安裝紀錄","date":"2025-01-16T16:00:00.000Z","description":"<blockquote>\n<p>註記：此頁為由 AI（gpt-5-mini-2025-08-07）自動翻譯自英文原文，可能含有少量不準確之處。</p>\n<blockquote>\n<p>注意：此頁面為 AI 生成（gpt-5-mini-2025-08-07）之繁體中文翻譯，可能包含些微錯誤。</p>\n</blockquote>\n<!-- # 🤯 從一些反思開始\n\n> 終於理解為何大多數需要 Ubuntu 的人要麼使用虛擬機，要麼安裝 WSL，以及為何仍然需要 Windows。\n\n這次的心態是「即便電腦系統壞掉，我也可以花幾千塊買個 Windows 11 授權，然後請光華的某人幫我重灌」，並將整個安裝流程記錄下來。 :)\n-->\n</blockquote>\n<h1>🎒 準備工作</h1>\n<h2 id=\"💻-電腦資訊\">💻 電腦資訊</h2>\n<ul>\n<li><strong>型號</strong>: VivoBook 14 X1405VA-0041K</li>\n<li><strong>作業系統</strong>: Windows 11</li>\n<li><strong>處理器</strong>: i5-13500H</li>\n<li><strong>SSD</strong>: NVMe SAMSUNG MZVL4512HBLU-00BTW</li>\n<li><strong>BIOS 進入鍵</strong>: <kbd>F2</kbd></li>\n<li><strong>開機裝置選擇鍵</strong>: <kbd>F12</kbd></li>\n</ul>","categories":[],"tags":[{"name":"ubuntu","_id":"cmfj10y500037n42b5d8s6xsn"},{"name":"windows","_id":"cmfj10y51003an42bcfpwepga"},{"name":"intel rst","_id":"cmfj10y51003cn42ba8727q5y"}],"content":"<blockquote>\n<p>註記：此頁為由 AI（gpt-5-mini-2025-08-07）自動翻譯自英文原文，可能含有少量不準確之處。</p>\n<blockquote>\n<p>注意：此頁面為 AI 生成（gpt-5-mini-2025-08-07）之繁體中文翻譯，可能包含些微錯誤。</p>\n</blockquote>\n<!-- # 🤯 從一些反思開始\n\n> 終於理解為何大多數需要 Ubuntu 的人要麼使用虛擬機，要麼安裝 WSL，以及為何仍然需要 Windows。\n\n這次的心態是「即便電腦系統壞掉，我也可以花幾千塊買個 Windows 11 授權，然後請光華的某人幫我重灌」，並將整個安裝流程記錄下來。 :)\n-->\n</blockquote>\n<h1>🎒 準備工作</h1>\n<h2 id=\"💻-電腦資訊\">💻 電腦資訊</h2>\n<ul>\n<li><strong>型號</strong>: VivoBook 14 X1405VA-0041K</li>\n<li><strong>作業系統</strong>: Windows 11</li>\n<li><strong>處理器</strong>: i5-13500H</li>\n<li><strong>SSD</strong>: NVMe SAMSUNG MZVL4512HBLU-00BTW</li>\n<li><strong>BIOS 進入鍵</strong>: <kbd>F2</kbd></li>\n<li><strong>開機裝置選擇鍵</strong>: <kbd>F12</kbd></li>\n</ul>\n<span id=\"more\"></span>\n<h2 id=\"🎯-目標\">🎯 目標</h2>\n<p>目前 SSD 已安裝 Windows 11。目標是將 1 TB SSD 分割出分割區並安裝 Ubuntu 20.04 LTS。</p>\n<ul>\n<li><img src=\"https://img.shields.io/badge/Windows_11-0078d4?style=for-the-badge&amp;logo=windows-11&amp;logoColor=white\" alt=\"\"> - 350 GB</li>\n<li><img src=\"https://img.shields.io/badge/Ubuntu%2020.04%20LTS-E95420?style=for-the-badge&amp;logo=ubuntu&amp;logoColor=white\" alt=\"Ubuntu\"> - 650 GB</li>\n</ul>\n<!-- - BIOS latest version\n- Secure Boot disabled\n- Fast Boot disabled\n- CSM disabled\n- Use UEFI\n- In BIOS SATA Configuration confirm AHCI format -->\n<h1>💻 步驟</h1>\n<h2 id=\"🚨-注意-預防事項\">🚨 注意 / 預防事項</h2>\n<blockquote>\n<ul>\n<li>根據線上教學，大多數更改是在 BIOS 選單中進行</li>\n<li>但有些廠商會禁用這些選項（以防使用者誤傷電腦）</li>\n<li>這會讓更改變得麻煩，並可能最終需要重置 Windows，所以請備份你的電腦</li>\n</ul>\n</blockquote>\n<ol>\n<li>關閉 BitLocker</li>\n<li>確保 BIOS 已更新到最新版本\n<ul>\n<li>最新的 BIOS 通常包含錯誤修正與較佳的硬體相容性，有助避免不必要的安裝問題</li>\n</ul>\n</li>\n<li>將 BIOS 開機模式設為 UEFI\n<ul>\n<li>UEFI 是現代標準的開機模式，具有更佳的磁碟分割支援、更快的開機與安全性功能。Ubuntu 與 Windows 都建議使用 UEFI 而非傳統 BIOS（CSM）。</li>\n</ul>\n</li>\n<li>關閉 Secure Boot\n<ul>\n<li>Secure Boot 會防止未經授權的作業系統開機，但某些 Ubuntu 版本或自訂驅動可能無法通過驗證，導致安裝失敗</li>\n<li>在 BIOS 中找到 Secure Boot 設定並設為 Disabled（停用）</li>\n</ul>\n</li>\n<li>關閉 Fast Boot（BIOS 與 Windows 控制台）\n<ul>\n<li>Fast Boot 會略過部分硬體初始化，可能導致 USB 安裝碟無法被偵測，影響 Ubuntu 安裝</li>\n<li>在 BIOS 中找到 Fast Boot 並設為 Disabled</li>\n<li>在 Windows 控制台的「硬體與音效 → 電源選項」中關閉 Fast Startup（快速啟動）</li>\n</ul>\n</li>\n<li>確保 SATA 設定為 AHCI 模式（這是最可能出問題的地方；某些 BIOS 可能不允許更改）\n<ul>\n<li>它不能是 RAID</li>\n</ul>\n</li>\n<li>關閉 CSM（相容性支援模組）\n<ul>\n<li>CSM 提供傳統 BIOS 相容性；關閉它可讓系統專注於 UEFI 開機並降低潛在相容性問題</li>\n<li>在 BIOS 中找到 CSM 並設為 Disabled</li>\n</ul>\n</li>\n</ol>\n<h2 id=\"第一步：磁碟分割\">第一步：磁碟分割</h2>\n<ul>\n<li>先在 Windows 中分割磁碟以區分 Windows 與 Ubuntu</li>\n<li>在電腦上搜尋 <strong><code>Create and format hard disk partitions</code></strong></li>\n</ul>\n<p><img src=\"https://hackmd.io/_uploads/Bytew2Ovke.png\" alt=\"image\"></p>\n<h2 id=\"步驟-2-關閉快速啟動\">步驟 2 關閉快速啟動</h2>\n<ol>\n<li>Windows — 關閉 Fast Startup</li>\n<li>BIOS — 關閉 Fast Boot</li>\n</ol>\n<h3 id=\"Windows\">Windows</h3>\n<ul>\n<li>在 Windows 控制台中，找到電源管理選項並關閉快速啟動（Fast Startup）</li>\n</ul>\n<p><img src=\"https://hackmd.io/_uploads/SkOjV2_vkl.png\" alt=\"image\"></p>\n<p><img src=\"https://hackmd.io/_uploads/H19EHbqDyl.png\" alt=\"image\"></p>\n<p><img src=\"https://hackmd.io/_uploads/S1bSHZ9w1x.png\" alt=\"image\"></p>\n<p><img src=\"https://hackmd.io/_uploads/ry4Er2_Dkx.png\" alt=\"image\"></p>\n<h2 id=\"步驟-3-移除與-Intel-RST-相關的驅動程式\">步驟 3 移除與 Intel RST 相關的驅動程式 <sup class=\"footnote-ref\"><a href=\"#fn1\" id=\"fnref1\">[1]</a></sup></h2>\n<blockquote>\n<ul>\n<li>這個步驟可能會導致電腦無法啟動，需要重置整台系統（你要有心理準備 💔💔💔…）</li>\n<li>但只有在重置之後你才能關閉 RST（將磁碟從 RAID 改為 AHCI）；否則 Ubuntu 在安裝時無法偵測到這顆 SSD</li>\n</ul>\n</blockquote>\n<h3 id=\"按-kbd-Win-kbd-kbd-X-kbd-開啟-裝置管理員\">按 <kbd>Win</kbd> + <kbd>X</kbd> 開啟 裝置管理員</h3>\n<ul>\n<li>到 Storage Controllers，在那裡你會看到 Intel RST 驅動程式<br>\n<img src=\"https://hackmd.io/_uploads/HyamMTuvyl.png\" alt=\"image\"></li>\n<li>這就是導致 Ubuntu 安裝時無法偵測 SSD 的禍首!!!</li>\n<li>請依照 <a href=\"https://help.ubuntu.com/rst/\">Ubuntu Documentation - RST &amp; Ubuntu installation</a> 的步驟逐步解除安裝 Intel RST 驅動程式</li>\n</ul>\n<h3 id=\"按-kbd-Win-kbd-kbd-R-kbd-，搜尋-regedit\">按 <kbd>Win</kbd> + <kbd>R</kbd>，搜尋 <code>regedit</code></h3>\n<ol>\n<li><code>HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\iaStorV\\\\</code>\n<ul>\n<li>找到 <strong>Start</strong> 並將其值改為 0</li>\n<li>找到 <strong>StartOverride</strong> 並將其值改為 0</li>\n</ul>\n</li>\n<li><code>HKEY_LOCAL_MACHINE\\\\SYSTEM\\\\CurrentControlSet\\\\Services\\\\storahci\\\\</code>\n<ul>\n<li>找到 <strong>Start</strong> 並將其值改為 0</li>\n<li>找到 <strong>StartOverride</strong> 並將其值改為 0</li>\n</ul>\n</li>\n</ol>\n<h3 id=\"解除安裝-Intel-RST-驅動程式\">解除安裝 Intel RST 驅動程式</h3>\n<ul>\n<li>完全解除安裝 Intel RST 驅動，然後重新啟動</li>\n<li>在重新啟動期間你可能會看到藍屏顯示 <code>INACCESSIBLE_BOOT_DEVICE</code>；解法是重置整台電腦</li>\n</ul>\n<h3 id=\"重置後\">重置後</h3>\n<ul>\n<li>\n<p>再次按 <kbd>Win</kbd> + <kbd>X</kbd>，開啟裝置管理員並檢查 Storage Controllers，確認 Intel RST 是否仍在</p>\n<p><img src=\"https://hackmd.io/_uploads/r1qe9f5DJx.png\" alt=\"image\"></p>\n</li>\n</ul>\n<h2 id=\"步驟-4-安裝-Ubuntu\">步驟 4 安裝 Ubuntu</h2>\n<h3 id=\"使用-USB-安裝-Ubuntu\">使用 USB 安裝 Ubuntu</h3>\n<ul>\n<li>按 <kbd>F12</kbd> 選擇 USB 隨身碟為開機裝置</li>\n<li>由於分割區已預先建立，安裝類型選擇 → Something else（其他）<br>\n<img src=\"https://hackmd.io/_uploads/rJstz95P1e.png\" alt=\"image\"></li>\n<li>照著安裝程式繼續安裝；之後應該不會有重大問題</li>\n</ul>\n<h3 id=\"驅動程式問題\">驅動程式問題</h3>\n<ul>\n<li>以往在桌機與較舊筆電安裝時，我沒有遇到 Wi‑Fi 驅動問題</li>\n<li>但這台 VivoBook 出了問題；最快的解法是買一個相容 Linux 的 USB 無線網卡</li>\n<li>TP-Link TL-WN725N22<br>\n<img src=\"https://hackmd.io/_uploads/SJfbN55PJe.png\" alt=\"image\"></li>\n</ul>\n<h2 id=\"術語表\">術語表</h2>\n<ul>\n<li>CSM - 相容性支援模組</li>\n<li>Intel RST - Intel 快速儲存技術</li>\n</ul>\n<hr class=\"footnotes-sep\">\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"fn1\" class=\"footnote-item\"><p>Ubuntu 文件 - RST 與 Ubuntu 安裝<br>\n<a href=\"https://help.ubuntu.com/rst/\">https://help.ubuntu.com/rst/</a> <a href=\"#fnref1\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n</ol>\n</section>\n","_path":"note_chinese_u2004_win11/","_link":"https://hsiangjenli.github.io/blog/note_chinese_u2004_win11/","_id":"cmfj10y4e0012n42b1uio9pus"}}