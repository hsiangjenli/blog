{"type":"getPostByPath","data":{"title":"[note] Mac 不裝 Docker Desktop，改用 Colima 常見問題整理","date":"2025-04-27T16:00:00.000Z","description":"<h1>📌 介紹</h1>\n<p>在 Mac 上要用 Docker，不一定要裝官方的 Docker Desktop，也可以改用像 Colima 這種比較輕量的選擇。不過，如果之前有裝過 Docker Desktop，後來又直接用 Homebrew 裝 Docker CLI，可能會因為一些舊設定沒清乾淨，遇到一些錯誤。</p>","categories":[],"tags":[{"name":"docker","_id":"cmfwzy6q60010mw2bg1521p00"}],"content":"<h1>📌 介紹</h1>\n<p>在 Mac 上要用 Docker，不一定要裝官方的 Docker Desktop，也可以改用像 Colima 這種比較輕量的選擇。不過，如果之前有裝過 Docker Desktop，後來又直接用 Homebrew 裝 Docker CLI，可能會因為一些舊設定沒清乾淨，遇到一些錯誤。</p>\n<span id=\"more\"></span>\n<h1>🚀 操作</h1>\n<h2 id=\"錯誤訊息\">錯誤訊息</h2>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">錯誤 1</span></span><br><span class=\"line\">docker: Cannot connect to the Docker daemon at unix:///Users/XXXXXXXX/.docker/run/docker.sock. Is the docker daemon running?</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta prompt_\"># </span><span class=\"language-bash\">錯誤 2</span></span><br><span class=\"line\">docker: error getting credentials - err: exec: &quot;docker-credential-desktop&quot;: executable file not found in $PATH, out: ``</span><br></pre></td></tr></table></figure>\n<h2 id=\"原因\">原因</h2>\n<p>因為剛開始使用 Docker Desktop 安裝，而後又將其刪除，改用 Colima，然原先的設定繼續沿用，故造成錯誤。</p>\n<h2 id=\"解法\">解法</h2>\n<h3 id=\"錯誤-1\"><code>錯誤 1</code></h3>\n<p>直接使用 <code>brew install docker</code> 安裝的是 Docker 的 CLI，而非 Docker Engine。因為 Docker Engine 必須跑在 Linux-based 的系統上，但是 mac 並非使用 Linux，所以需要額外開 VM。過去 Docker Desktop 會在背後開 VM，所以沒注意到，這次將 Docker Desktop 移除就需要額外準備 VM 給 Docker 運作。</p>\n<ol>\n<li>安裝 <code>colima</code> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install colima</span><br></pre></td></tr></table></figure>\n</li>\n<li>執行 <code>colima</code> <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">colima start</span><br></pre></td></tr></table></figure>\n</li>\n<li>正常操作 Docker 指令</li>\n</ol>\n<h3 id=\"錯誤-2\"><code>錯誤 2</code></h3>\n<p>若一開始先安裝 Docker Desktop 有些設定會沿用，進而導致錯誤發生。</p>\n<ol>\n<li>至 <code>config.json</code> 中修改 <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano ~/.docker/config.json</span><br></pre></td></tr></table></figure>\n</li>\n<li>把裡面的這段刪除 <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;credsStore&quot;: &quot;desktop&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n</li>\n</ol>\n<h1>🔁 Recap</h1>\n<p>這篇筆記整理了兩個常見錯誤：</p>\n<ol>\n<li>Docker 無法連線到 daemon</li>\n<li>找不到 docker-credential-desktop 導致憑證錯誤</li>\n</ol>\n<h1>🔗 參考資料</h1>\n<ul>\n<li><a href=\"https://ithelp.ithome.com.tw/articles/10355740\">Day 07：Developing for Kubernetes with KinD - MacOS</a></li>\n<li><a href=\"https://blog.wu-boy.com/2023/06/how-to-create-kubernetes-cluster-in-local/\">使用 Colima 快速打造 Kubernetes 開發環境</a></li>\n</ul>\n","_path":"note_chinese_mac_docker_colima/","_link":"https://hsiangjenli.github.io/blog/note_chinese_mac_docker_colima/","_id":"cmfwzy6q90015mw2bcusjd0vc"}}