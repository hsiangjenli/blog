{"type":"getPostByPath","data":{"title":"[tutorial] ä½¿ç”¨ Mailgun + Python ç™¼é€é›»å­éƒµä»¶","date":"2025-03-07T16:00:00.000Z","description":"<blockquote>\n<p>è¨»è¨˜ï¼šæ­¤é ç‚ºç”± AIï¼ˆgpt-5-mini-2025-08-07ï¼‰è‡ªå‹•ç¿»è­¯è‡ªè‹±æ–‡åŸæ–‡ï¼Œå¯èƒ½å«æœ‰å°‘é‡ä¸æº–ç¢ºä¹‹è™•ã€‚</p>\n<h1>ğŸ“Œ ä»‹ç´¹</h1>\n</blockquote>\n<p>é€™ç¯‡æ•™å­¸èªªæ˜å¦‚ä½•ä½¿ç”¨ Mailgun èˆ‡ Python ç™¼é€é›»å­éƒµä»¶ã€‚æ‚¨å°‡å­¸æœƒå¦‚ä½•è¨­å®š Mailgunã€ç”¢ç”Ÿ API é‡‘é‘°ï¼Œä¸¦æ’°å¯« Python ç¨‹å¼ç¢¼ä»¥ç™¼é€æœ‰é™„ä»¶æˆ–ç„¡é™„ä»¶çš„é›»å­éƒµä»¶ã€‚</p>","categories":[],"tags":[{"name":"python","_id":"cmfj10y4g0018n42b38qr5gse"},{"name":"mailgun","_id":"cmfj10y57004jn42b6idz8vy6"}],"content":"<blockquote>\n<p>è¨»è¨˜ï¼šæ­¤é ç‚ºç”± AIï¼ˆgpt-5-mini-2025-08-07ï¼‰è‡ªå‹•ç¿»è­¯è‡ªè‹±æ–‡åŸæ–‡ï¼Œå¯èƒ½å«æœ‰å°‘é‡ä¸æº–ç¢ºä¹‹è™•ã€‚</p>\n<h1>ğŸ“Œ ä»‹ç´¹</h1>\n</blockquote>\n<p>é€™ç¯‡æ•™å­¸èªªæ˜å¦‚ä½•ä½¿ç”¨ Mailgun èˆ‡ Python ç™¼é€é›»å­éƒµä»¶ã€‚æ‚¨å°‡å­¸æœƒå¦‚ä½•è¨­å®š Mailgunã€ç”¢ç”Ÿ API é‡‘é‘°ï¼Œä¸¦æ’°å¯« Python ç¨‹å¼ç¢¼ä»¥ç™¼é€æœ‰é™„ä»¶æˆ–ç„¡é™„ä»¶çš„é›»å­éƒµä»¶ã€‚</p>\n<span id=\"more\"></span>\n<h1>ğŸš€ å¿«é€Ÿé–‹å§‹</h1>\n<h2 id=\"Mailgun\">Mailgun</h2>\n<ul>\n<li>Mailgun æä¾›å…è²»æ–¹æ¡ˆï¼Œæ¯æ—¥æœ€å¤šå¯ç™¼é€ 100 å°é›»å­éƒµä»¶ã€‚</li>\n</ul>\n<p>ä»¥ä¸‹æ˜¯æ‚¨éœ€è¦åšçš„ä¸‰ä»¶äº‹</p>\n<ol>\n<li>ç”¢ç”Ÿ Mailgun API é‡‘é‘°</li>\n<li>è¨˜ä¸‹æ‚¨çš„ Mailgun ç¶²åŸŸåç¨±ï¼ˆç”¨æ–¼ç™¼é€é›»å­éƒµä»¶ï¼‰</li>\n<li>å°‡æ‚¨çš„é›»å­éƒµä»¶åŠ å…¥ Mailgunï¼ˆMailgun åªå…è¨±ç™¼é€éƒµä»¶çµ¦æˆæ¬Šçš„æ”¶ä»¶äººï¼‰</li>\n</ol>\n<p><img src=\"https://hackmd.io/_uploads/Hk6SuIujkg.png\" alt=\"image\"></p>\n<!-- ![image](https://hackmd.io/_uploads/HkFMY8_syx.png) -->\n<h3 id=\"å»ºç«‹-API-é‡‘é‘°\">å»ºç«‹ API é‡‘é‘°</h3>\n<p><img src=\"https://hackmd.io/_uploads/ByhJkmFj1g.png\" alt=\"image\"><br>\n<img src=\"https://hackmd.io/_uploads/ry8XkmFikl.png\" alt=\"image\"><br>\n<img src=\"https://hackmd.io/_uploads/BJOHy7Fjkg.png\" alt=\"image\"></p>\n<h3 id=\"å¾-Mailgun-å–å¾—æ‚¨çš„ç¶²åŸŸ\">å¾ Mailgun å–å¾—æ‚¨çš„ç¶²åŸŸ</h3>\n<p><img src=\"https://hackmd.io/_uploads/SkoMbQtsyg.png\" alt=\"image\"></p>\n<h3 id=\"è¨­å®šé›»å­éƒµä»¶ä¸¦é©—è­‰\">è¨­å®šé›»å­éƒµä»¶ä¸¦é©—è­‰</h3>\n<ol>\n<li>å°‡æ‚¨çš„é›»å­éƒµä»¶åŠ å…¥ Mailgun</li>\n<li>æª¢æŸ¥æ‚¨çš„éƒµç®±ä»¥å®Œæˆé©—è­‰</li>\n</ol>\n<p><img src=\"https://hackmd.io/_uploads/S14QdQtoke.png\" alt=\"image\"><br>\n<img src=\"https://hackmd.io/_uploads/HkU8_Qtj1g.png\" alt=\"image\"><br>\n<img src=\"https://hackmd.io/_uploads/Sko__7tjkg.png\" alt=\"image\"><br>\n<img src=\"https://hackmd.io/_uploads/Hkggi7Kikx.png\" alt=\"image\"></p>\n<h2 id=\"Python\">Python</h2>\n<p>To see the entire code : <a href=\"https://github.com/hsiangjenli/tiny-colab/blob/f62b74143bc029935914b28652b314bfa9512e5d/mailgun/demo.py\">mailgun/demo.py</a></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MAILGUN_API_KEY = os.getenv(<span class=\"string\">&quot;MAILGUN_API_KEY&quot;</span>)</span><br><span class=\"line\">MAILGUN_DOMAIN_NAME = os.getenv(<span class=\"string\">&quot;MAILGUN_DOMAIN_NAME&quot;</span>)</span><br><span class=\"line\">MAILGUN_API_URL = (</span><br><span class=\"line\">    <span class=\"string\">f&quot;https://api.mailgun.net/v3/<span class=\"subst\">&#123;MAILGUN_DOMAIN_NAME&#125;</span>.mailgun.org/messages&quot;</span></span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@error_handler_for_send_email</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">send_email</span>(<span class=\"params\">from_email: <span class=\"built_in\">str</span>, to_email: <span class=\"type\">Union</span>[<span class=\"built_in\">str</span>, <span class=\"built_in\">list</span>], subject: <span class=\"built_in\">str</span>, text: <span class=\"built_in\">str</span></span>):</span><br><span class=\"line\">    <span class=\"comment\"># Define the email parameters</span></span><br><span class=\"line\">    email_data = &#123;<span class=\"string\">&quot;from&quot;</span>: from_email, <span class=\"string\">&quot;to&quot;</span>: to_email, <span class=\"string\">&quot;subject&quot;</span>: subject, <span class=\"string\">&quot;text&quot;</span>: text&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># Send the email</span></span><br><span class=\"line\">    r = requests.post(</span><br><span class=\"line\">        url=MAILGUN_API_URL, auth=(<span class=\"string\">&quot;api&quot;</span>, MAILGUN_API_KEY), data=email_data</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> r</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">@error_handler_for_send_email</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">send_email_with_attachment</span>(<span class=\"params\"></span></span><br><span class=\"line\"><span class=\"params\">    from_email: <span class=\"built_in\">str</span>,</span></span><br><span class=\"line\"><span class=\"params\">    to_email: <span class=\"type\">Union</span>[<span class=\"built_in\">str</span>, <span class=\"built_in\">list</span>],</span></span><br><span class=\"line\"><span class=\"params\">    subject: <span class=\"built_in\">str</span>,</span></span><br><span class=\"line\"><span class=\"params\">    text: <span class=\"built_in\">str</span>,</span></span><br><span class=\"line\"><span class=\"params\">    attachment_paths: <span class=\"built_in\">list</span>,</span></span><br><span class=\"line\"><span class=\"params\"></span>):</span><br><span class=\"line\">    <span class=\"comment\"># Define the email parameters</span></span><br><span class=\"line\">    email_data = &#123;<span class=\"string\">&quot;from&quot;</span>: from_email, <span class=\"string\">&quot;to&quot;</span>: to_email, <span class=\"string\">&quot;subject&quot;</span>: subject, <span class=\"string\">&quot;text&quot;</span>: text&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># Read the attachment</span></span><br><span class=\"line\">    files = [</span><br><span class=\"line\">        (<span class=\"string\">&quot;attachment&quot;</span>, <span class=\"built_in\">open</span>(attachment_path, <span class=\"string\">&quot;rb&quot;</span>))</span><br><span class=\"line\">        <span class=\"keyword\">for</span> attachment_path <span class=\"keyword\">in</span> attachment_paths</span><br><span class=\"line\">    ]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># Send the email</span></span><br><span class=\"line\">    r = requests.post(</span><br><span class=\"line\">        url=MAILGUN_API_URL, auth=(<span class=\"string\">&quot;api&quot;</span>, MAILGUN_API_KEY), data=email_data, files=files</span><br><span class=\"line\">    )</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> r</span><br></pre></td></tr></table></figure>\n<h2 id=\"Gmail\">Gmail</h2>\n<p>å¾ Mailgun ç™¼é€éƒµä»¶å¾Œï¼Œæ‚¨å¯ä»¥æª¢æŸ¥æ”¶ä»¶ç®±ã€‚éƒµä»¶å¯èƒ½æœƒè¢«æ¨™è¨˜ç‚ºåƒåœ¾éƒµä»¶ï¼Œè«‹æŸ¥çœ‹åƒåœ¾éƒµä»¶è³‡æ–™å¤¾æ˜¯å¦æœ‰è©²éƒµä»¶ã€‚</p>\n<p><img src=\"https://hackmd.io/_uploads/BJtOYQtoyl.png\" alt=\"image\"></p>\n<h1>ğŸ” é‡é»å›é¡§</h1>\n<ul>\n<li>Mailgun è¨­å®šï¼šç”¢ç”Ÿ API é‡‘é‘°ã€å–å¾—æ‚¨çš„ç¶²åŸŸåç¨±ï¼Œä¸¦é©—è­‰æ‚¨çš„é›»å­éƒµä»¶</li>\n<li>Python æ•´åˆï¼šä½¿ç”¨ Mailgun API èˆ‡ Python ç¨‹å¼åŒ–ç™¼é€é›»å­éƒµä»¶</li>\n<li>ç™¼é€é™„ä»¶ï¼šå­¸æœƒå¦‚ä½•ä½¿ç”¨ Mailgun API ç™¼é€é™„åŠ æª”æ¡ˆçš„éƒµä»¶</li>\n</ul>\n<h1>ğŸ”— åƒè€ƒè³‡æ–™</h1>\n<ul>\n<li><a href=\"https://www.mailgun.com/blog/it-and-engineering/send-email-using-python/\">https://www.mailgun.com/blog/it-and-engineering/send-email-using-python/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/53861582/sent-email-via-python-using-mailgun-api\">https://stackoverflow.com/questions/53861582/sent-email-via-python-using-mailgun-api</a></li>\n</ul>\n","_path":"tutorial-using-mailgun-python-to-send-email.zh-TW/","_link":"https://hsiangjenli.github.io/blog/tutorial-using-mailgun-python-to-send-email.zh-TW/","_id":"cmfj10y4v002ln42b42jvhiel"}}